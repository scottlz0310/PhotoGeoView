{
    "hooks": {
        "debug_work_guidelines": {
            "name": "デバッグ作業ガイドライン",
            "description": "デバッグ作業時に従うべき開発ルールを適用するhook",
            "trigger": "manual",
            "active": true,
            "rules": [
                {
                    "id": "logger_only_debug",
                    "title": "ロガー経由でのデバッグ出力",
                    "description": "デバッグ情報の出力は必ずロガー経由で行うこと。print()文やconsole.log()の直接使用は禁止。",
                    "enforcement": "strict",
                    "examples": [
                        "✅ logger.debug('デバッグ情報: %s', variable)",
                        "❌ print('デバッグ情報:', variable)"
                    ]
                },
                {
                    "id": "no_temp_scripts_in_root",
                    "title": "一時スクリプトの配置制限",
                    "description": "デバッグ等の一時スクリプトはルートディレクトリに置かないこと。tools/debug/またはtests/debug/に配置する。",
                    "enforcement": "strict",
                    "allowed_paths": [
                        "tools/debug/",
                        "tests/debug/",
                        "examples/debug/"
                    ],
                    "forbidden_paths": [
                        "./",
                        "src/",
                        "config/"
                    ]
                },
                {
                    "id": "japanese_only_communication",
                    "title": "日本語での応答とドキュメント作成",
                    "description": "必ず日本語で応答し、ドキュメントやコメントも日本語で書くこと。コード内のコメント、commit message、ドキュメントすべて日本語で統一する。",
                    "enforcement": "strict",
                    "applies_to": [
                        "responses",
                        "code_comments",
                        "documentation",
                        "commit_messages",
                        "error_messages"
                    ]
                }
            ],
            "pre_execution_checks": [
                "デバッグ作業開始前にロガー設定を確認",
                "一時ファイル用ディレクトリの存在確認",
                "日本語環境設定の確認"
            ],
            "post_execution_actions": [
                "一時ファイルのクリーンアップ確認",
                "ログファイルの整理",
                "デバッグコードの削除確認"
            ]
        },
        "code_quality_check": {
            "name": "コード品質チェック",
            "description": "デバッグ作業後のコード品質を確認するhook",
            "trigger": "on_save",
            "active": true,
            "checks": [
                "print文の残存チェック",
                "一時ファイルの残存チェック",
                "日本語コメントの確認",
                "ロガー使用の確認"
            ]
        },
        "auto_recovery_on_abort": {
            "name": "Kiro自動復帰システム",
            "description": "Kiroがエラーで'aborted'と発言した時に自動的に復帰処理を実行するhook",
            "trigger": "on_message_pattern",
            "pattern": "(?i).*aborted.*",
            "active": true,
            "recovery_actions": [
                {
                    "action": "clear_context",
                    "description": "現在のコンテキストをクリアして新しい状態で開始"
                },
                {
                    "action": "reset_workspace",
                    "description": "ワークスペースの状態をリセット"
                },
                {
                    "action": "reload_configuration",
                    "description": "設定ファイルを再読み込み"
                },
                {
                    "action": "restart_session",
                    "description": "セッションを再開始"
                }
            ],
            "retry_strategy": {
                "max_attempts": 3,
                "backoff_seconds": [
                    5,
                    10,
                    30
                ],
                "escalation_message": "自動復帰に失敗しました。手動での介入が必要です。"
            },
            "notification": {
                "show_recovery_status": true,
                "log_recovery_attempts": true,
                "success_message": "Kiroが正常に復帰しました。作業を継続できます。",
                "failure_message": "自動復帰に失敗しました。システム管理者に連絡してください。"
            },
            "conditions": {
                "ignore_patterns": [
                    "test.*aborted",
                    "simulation.*aborted"
                ],
                "required_context": [
                    "error_occurred",
                    "execution_failed"
                ]
            }
        }
    },
    "global_settings": {
        "language": "ja",
        "logging_level": "DEBUG",
        "temp_directory": "tools/debug/",
        "cleanup_on_exit": true
    }
}
